(function(){$("input").each(function(){$(this).attr("class",$(this).attr("class")||"")});$('input[name="loginName"]').focus();$('input[name="loginName"]').select()})();(function(){$('input[type="text"],input[type="password"]').bind({"copy cut paste contextmenu":function(){return false}})})();
(function(){$("#agreement").click(function(){$(this).attr("checked")?$("#agreement-msg").hide():$("#agreement-msg").addClass("point").text("\u9700\u8981\u540c\u610f\u7528\u6237\u534f\u8bae\u540e\u624d\u80fd\u8fdb\u884c\u6ce8\u518c").show()});var e=function(){return!$("#agreement").attr("checked")?($("#agreement-msg").addClass("point").text("\u9700\u8981\u540c\u610f\u7528\u6237\u534f\u8bae\u540e\u624d\u80fd\u8fdb\u884c\u6ce8\u518c").show(),false):true};$("#register-form").effectiveAndValidate({submitHandler:function(a){e()&&
Encrypt.encrypt({timeout:15E3,success:function(d,c,b){$('input[name="tid"]').val(b.tid);b=$("#password");b.val(Security.encryptHex(b.val(),d,c));b=$("#confirm");b.val(Security.encryptHex(b.val(),d,c));a.submit()},error:function(a,c,b){a=b?"\u7f51\u7edc\u901a\u4fe1\u5f02\u5e38\uff0c\u6ce8\u518c\u5931\u8d25":"\u7f51\u7edc\u8fde\u63a5\u8d85\u65f6\uff0c\u6ce8\u518c\u5931\u8d25";c=$("div.err_box").find("span.point");$("#password, #confirm, #captcha").val("");$("#password").focus();c.length<1?$("div.err_box").append('<span class="point">'+
a+"</span>"):c.text(a)}})},invalidHandler:function(){e()},rules:{loginName:{required:true,byterangelength:[4,20],pattern:/^[\u4e00-\u9faf_0-9a-zA-Z-]+$/,pattern2:/^[\u4e00-\u9fafa-zA-Z].*$/,remote:{type:"POST",async:true,url:BASE+"/async/member/nickname.htm",data:{nickname:function(){return $('input[name="loginName"]').val()}},dataType:"json",dataFilter:function(a){a=eval("("+a+")");return!a?false:a.result+""}}},password:{required:true,rangelength:[6,16],pattern:/^[\x21-\x7e]+$/},confirm:{equalTo:'input[name="password"]'},
email:{required:true,email:true,remote:{type:"POST",async:true,url:BASE+"/async/member/email.htm",dataType:"json",dataFilter:function(a){a=eval("("+a+")");return!a?false:a.result+""}}},captcha:{required:true,minlength:4,maxlength:4,pattern:/^[0-9A-Za-z]{4}$/}},messages:{loginName:{required:"\u8bf7\u8f93\u5165\u4f1a\u5458\u540d",byterangelength:"\u4f1a\u5458\u540d\u4e3a {0}\uff5e{1} \u4e2a\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u201c-\u201d \u548c\u4e0b\u5212\u7ebf\u6216\u8005 2\uff5e10 \u4e2a\u6c49\u5b57",
pattern:"\u4f1a\u5458\u540d\u7531\u82f1\u6587\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u6c49\u5b57\u3001\u201c-\u201d \u548c\u4e0b\u5212\u7ebf\u7ec4\u6210",pattern2:"\u4f1a\u5458\u540d\u9700\u8981\u4ee5\u82f1\u6587\u5b57\u6bcd\u6216\u6c49\u5b57\u5f00\u5934",remote:"\u8be5\u4f1a\u5458\u540d\u5df2\u7ecf\u88ab\u5176\u4ed6\u4f1a\u5458\u4f7f\u7528\u4e86"},password:{required:"\u8bf7\u8f93\u5165\u5bc6\u7801",rangelength:"\u5bc6\u7801\u5e94\u5728 {0}\uff5e{1} \u4e2a\u5b57\u7b26\u5185",pattern:"\u5bc6\u7801\u4ec5\u5141\u8bb8\u6570\u5b57\u3001\u82f1\u6587\u5b57\u6bcd\u53ca\u7b26\u53f7"},
confirm:{equalTo:"\u786e\u8ba4\u5bc6\u7801\u4e0e\u5bc6\u7801\u4e0d\u4e00\u81f4"},email:{required:"\u8bf7\u8f93\u5165\u90ae\u7bb1\u5730\u5740",email:"\u90ae\u7bb1\u5730\u5740\u4e0d\u6b63\u786e",remote:"\u8be5\u90ae\u7bb1\u5df2\u7ecf\u88ab\u5176\u4ed6\u4f1a\u5458\u4f7f\u7528\u4e86"},captcha:{required:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",minlength:"\u9a8c\u8bc1\u7801\u5e94\u4e3a 4 \u4e2a\u5b57\u7b26",maxlength:"\u9a8c\u8bc1\u7801\u5e94\u4e3a 4 \u4e2a\u5b57\u7b26",pattern:"\u9a8c\u8bc1\u7801\u5e94\u7531\u82f1\u6587\u5b57\u6bcd\u548c\u6570\u5b57\u7ec4\u6210"}},
errorPlacement:function(a,d){d[0].showError(a.text())}},{wrapSelector:"li",ignoreSelectors:["#agreement"],inputNormalClass:"",inputErrorClass:"error",message:{defaultClass:"error",errorClass:"point"}})})();
